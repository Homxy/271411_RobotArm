# 271411_RobotArm
## สมาชิกกลุ่ม
650610828 นาย จักรพงศ์ วงศ์วิวัฒน์ธนะ<br>
650610829 นาย จินตพัฒน์ ตาอ้าย<br>
650610853 นาย ภูรินท์ ภัทโรวาสน์

## ขั้นตอนการใช้งาน
<ol>
  <li>Config IP คอมพิวเตอร์ให้อยู่ในวงเดียวกันกับ MG400 กล่าวคือให้ Config IP 3 ชุดแรกเหมือน MG400 โดยชุดที่ 4 สามารถตั้งได้ตั้งแต่ 0-255 แต่ไม่ซ้ำกับ IP MG400 ตัวอย่างเช่น 192.168.1.6 </li>
  <li>Run Setup.py เพื่อปรับค่าสีในรูปแบบ HSV ใช้ในการ detect กล่องสีต่างๆ โดยให้ปรับค่าต่ำสุด-สูงสุดของแต่ละสี</li>
  <li>กด P เพื่อปริ้น Camera Point แล้วนำไปกรอกใน Client.py และกด S เพื่อบันทึกค่า HSV ในรูปแบบไฟล์ JSON</li>
  <li>jog แขนหุ่นไปยังลำดับที่กำหนดและนำพิกัดของแขนหุ่นยนต์ไปกรอกใน Client.py</li>
  <li>Run Client.py โดย Client สารารถเลือกสีที่ต้องการหยิบและปุ่มเริ่มการทำงาน แก้ Distrotion ของภาพ</li>
</ol>

## เทคนิคสำคัญที่ใช้
<ul>
  <li>Map พิกัดของกล้องกับพิกัดของ MG400 โดยใช้ฟังก์ชัน cv2.getPerspectiveTransform(camera_points, world_points)</li>
  <li>การแก้ไขความคลาดเคลื่อนของภาพ อันเนื่องมาจากความนูนของเลนส์กล้อง</li>
  <li>การกำจัด nosie ด้วย Morphology</li>
  <li>การ Detect กล่องสีต่างๆ ด้วยการทำช่วง HSV ต่ำสุด-สูงสุด และใช้การหา Centroid ในเพื่อทำ Contour</li>
  <li>การส่งข้อมูลผ่าน TCP/IP ด้วยการ steam ข้อมูลพิกัดและสีของกล่องสีในพื้นที่ทำงาน</li>
</ul>
